<launch>
  <arg name="operation_mode_transition_manager_param" default="$(find-pkg-share operation_mode_transition_manager)/config/operation_mode_transition_manager.param.yaml"/>
  <!-- <arg name="operation_mode_transition_manager_param" default="$(find-pkg-share autoware_launch)/config/control/operation_mode_transition_manager/operation_mode_transition_manager.param.yaml"/> -->
  <arg name="vehicle_info_param_file" default="$(find-pkg-share vehicle_info_util)/config/vehicle_info.param.yaml"/>
  <arg name="nearest_search_param_path" default="$(find-pkg-share autoware_launch)/config/control/common/nearest_search.param.yaml"/>

  <arg name="vehicle_model" default="lexus"/>
  <arg name="vehicle_param_file" default="$(find-pkg-share $(var vehicle_model)_description)/config/vehicle_info.param.yaml"/>

  <!-- operation_mode_transition_manager -->
  <node pkg="operation_mode_transition_manager" exec="operation_mode_transition_manager_exe" name="operation_mode_transition_manager" output="screen">
    <!-- args -->
    <param from="$(var vehicle_info_param_file)"/>
    <param from="$(var operation_mode_transition_manager_param)"/>

    <!-- rename input topics -->
    <remap from="kinematics" to="/localization/kinematic_state"/>
    <remap from="steering" to="/vehicle/status/steering_status"/>
    <remap from="trajectory" to="/planning/scenario_planning/trajectory"/>
    <remap from="control_cmd" to="/control/command/control_cmd"/>
    <remap from="control_mode_report" to="/vehicle/status/control_mode"/>
    <remap from="gate_operation_mode" to="/control/vehicle_cmd_gate/operation_mode"/>
    <!-- from system -->

    <!-- rename output topics -->
    <remap from="is_autonomous_available" to="/control/is_autonomous_available"/>
    <remap from="control_mode_request" to="/control/control_mode_request"/>
    <!-- to vehicle -->
  </node>
</launch>
